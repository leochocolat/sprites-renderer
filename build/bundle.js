!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bundle={})}(this,(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var h=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),this._image=i.image,this._frames=i.frames,this._frameIndex=0}return n(t,[{key:"image",get:function(){return this._image}},{key:"frames",get:function(){return this._frames}},{key:"frameIndex",get:function(){return this._frameIndex},set:function(t){this._frameIndex=Math.floor(t%this._frames.length)}},{key:"frame",get:function(){return this._frames[this._frameIndex]}},{key:"destroy",value:function(){this._image=null,this._frames=null,this._frameIndex=null}},{key:"getFrame",value:function(t){return isNaN(parseInt(t))?this.frame:this._frames[Math.floor(t%this._frames.length)]}}]),t}(),r=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this._spritesManager=i,this._canvas=n.canvas,this._width=n.width,this._height=n.height,this._background=n.background,this._clear=n.clear,this._context=this._canvas.getContext("2d"),this.resize(this._width,this._height)}return n(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"canvas",get:function(){return this._canvas}},{key:"context",get:function(){return this._context}},{key:"render",value:function(){this._context.fillStyle=this._background,this._context.fillRect(0,0,this._width,this._height),this._clear&&this._context.clearRect(0,0,this._width,this._height),this._drawSpriteFrame()}},{key:"destroy",value:function(){this._width=null,this._height=null}},{key:"resize",value:function(t,e){this._width=t,this._height=e,this._canvas.width=this._width,this._canvas.height=this._height}},{key:"_drawSpriteFrame",value:function(){var t=this._spritesManager.image,e=this._spritesManager.frame;this._context.drawImage(t,e.x,e.y,e.width,e.height,0,0,this._width,this._height)}}]),t}();t.SpriteRenderer=r,t.SpritesManager=h,t.drawSpriteFrame=function(t,e,i,n,h,r,s){t.drawImage(e,i.x,i.y,i.width,i.height,n,h,r,s)},Object.defineProperty(t,"__esModule",{value:!0})}));
